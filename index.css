@import "tailwindcss";

@theme {
  --font-sans: "Outfit", ui-sans-serif, system-ui, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, monospace;

  @keyframes dice-rolling {
    0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
    100% { transform: rotateX(720deg) rotateY(720deg) rotateZ(360deg); }
  }

  @keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  --animate-shimmer: shimmer 3s infinite linear;
  --animate-dice-rolling: dice-rolling 0.6s cubic-bezier(0.19, 1, 0.22, 1);
}

@layer base {
  :root {
    --background: 222 47% 4%;
    --foreground: 213 31% 91%;
    --muted: 223 47% 11%;
    --muted-foreground: 215.4 16.3% 56.9%;
    --accent: 216 34% 17%;
    --accent-foreground: 210 40% 98%;
    --popover: 224 71% 4%;
    --popover-foreground: 215 20.2% 65.1%;
    --border: 216 34% 17%;
    --input: 216 34% 17%;
    --card: 222 47% 4%;
    --card-foreground: 213 31% 91%;
    --radius: 0.75rem;
  }

  body {
    @apply bg-[#020617] text-slate-50 antialiased min-h-screen;
    font-family: 'Outfit', sans-serif;
  }

  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: hsl(var(--muted)); }
  ::-webkit-scrollbar-thumb { background: hsl(var(--border)); border-radius: 10px; border: 2px solid hsl(var(--muted)); }
  ::-webkit-scrollbar-thumb:hover { background: #334155; }
}

@layer components {
  .glass {
    @apply bg-slate-900/60 backdrop-blur-xl border border-white/10;
  }

  .shadcn-card {
    background-color: hsl(var(--card));
    color: hsl(var(--card-foreground));
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }

  .animate-fade-in {
    animation: fade-in 0.25s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .animate-slide-up {
    animation: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  @keyframes fade-in {
    from { opacity: 0; transform: scale(0.98) translateY(4px); }
    to   { opacity: 1; transform: scale(1) translateY(0); }
  }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes shimmer {
    0%   { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* Dice Styles */
  .dice-wrap {
    @apply relative flex items-center justify-center;
  }

  .dice-scaler {
    @apply relative flex items-center justify-center;
  }

  .dice {
    @apply absolute w-[100px] h-[100px] transition-transform duration-300;
    transform-style: preserve-3d;
    transition-timing-function: cubic-bezier(0.42, 1.57, 0.62, 0.86);
  }

  .dice.rolling {
    animation: rotatePerFace 0.3s linear infinite;
  }

  .dice-face {
    @apply absolute w-[100px] h-[100px] bg-[#f6f3f0] rounded-[20px];
    box-sizing: border-box;
    transform-style: preserve-3d;
    box-shadow:
      inset 0 0 0 40px #f6f3f0,
      inset 0 0 12px 2px rgba(0,0,0,0.08);
  }

  .dice-face::before {
    @apply absolute content-[""] w-full h-full bg-[#e0dcd8] rounded-[20px];
    transform: translateZ(-1px);
    box-shadow: inset 0 0 0 40px #e0dcd8;
  }

  .dice-dot {
    @apply absolute w-[18px] h-[18px] bg-[#131210] rounded-full z-20;
    box-shadow: inset 1px 1px 3px rgba(0,0,0,0.3);
  }

  .dice-dot.center       { top: 50%; left: 50%; transform: translate(-50%, -50%); }
  .dice-dot.top-left     { top: 16px; left: 16px; }
  .dice-dot.top-right    { top: 16px; right: 16px; }
  .dice-dot.bottom-left  { bottom: 16px; left: 16px; }
  .dice-dot.bottom-right { bottom: 16px; right: 16px; }
  .dice-dot.middle-left  { top: 50%; left: 16px;  transform: translateY(-50%); }
  .dice-dot.middle-right { top: 50%; right: 16px; transform: translateY(-50%); }

  .dice-face.front  { transform: translateZ(50px); }
  .dice-face.up     { transform: rotateX(90deg)  translateZ(50px); }
  .dice-face.left   { transform: rotateY(-90deg) translateZ(50px); }
  .dice-face.right  { transform: rotateY(90deg)  translateZ(50px); }
  .dice-face.bottom { transform: rotateX(-90deg) translateZ(50px); }
  .dice-face.back   { transform: rotateX(180deg) translateZ(50px); }

  @keyframes rotatePerFace {
    0%   { transform: rotateX(0deg)   rotateY(0deg)   rotateZ(0deg); }
    100% { transform: rotateX(360deg) rotateY(720deg) rotateZ(360deg); }
  }

  @media (max-width: 480px) {
    .dice-wrap   { width: 52px !important; height: 52px !important; }
    .dice-scaler { transform: scale(0.52) !important; }
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
